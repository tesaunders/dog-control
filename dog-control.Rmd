---
title: "Dog Management in Auckland"
author: "Tom Saunders"
output: html_document
knit: (function(inputFile, encoding) { rmarkdown::render(inputFile, encoding = encoding, output_file = file.path(dirname(inputFile), 'index.html')) })
---

Under the Dog Control Act (1996), local territorial authorities are responsible for enacting and enforcing bylaws designed to minimise danger and nuisance to the public. Auckland Council operates a regional Animal Management unit comprised of several teams, including a field team responsible for providing 24/7 responses to high priority animal management requests. As with other local territorial authorities, Auckland Council is required to provide data and statistics relating to dog control activities undertaken as per the Dog Control Act. It provides this data within Animal Managemnt [annual reports](https://www.aucklandcouncil.govt.nz/plans-projects-policies-reports-bylaws/our-policies/Pages/policy-on-dogs.aspx). 

I have compiled a dataset relating to dog control taken from these annual reports starting in 2014. The complete dataset, and R code used to perform all the analyses, is available [here](https://github.com/tesaunders/dog-control). 

```{r, echo=FALSE, message=FALSE}
library(readr)
library(dplyr)
library(ggplot2)
library(tidyr)
library(stringr)
```

```{r, echo=FALSE, message=FALSE}
dog_data <- read_csv("data/dog-control.csv")
```

```{r, echo=FALSE}
# Summaries of dogs and owners

dogs <- dog_data |> 
  filter(category == "registrations" | category == "classification") |> 
  group_by(financial_year) |> 
  select(-category) |> 
  pivot_wider(names_from = c(subcategory, measure), values_from = value) |> 
  select(-dangerous_total, -(starts_with("shelters"))) |> 
  mutate(
    menacing = menacing_33A + menacing_33C,
    dangerous = dangerous_conviction + dangerous_evidence + dangerous_admission,
    pc_men = menacing / dogs_known,
    pc_dan = dangerous / dogs_known,
    pc_reg = dogs_registered / dogs_known,
  )

owners <- dog_data |> 
  filter(subcategory == "owners" | subcategory == "prosecution-appeal") |> 
  group_by(financial_year) |> 
  select(-category) |> 
  pivot_wider(names_from = c(subcategory, measure), values_from = value)
```

## Dogs {.tabset}

### Number of Dogs

The number of known dogs has increased dramatically since 2020. 

```{r, echo = FALSE}
ggplot(dogs, aes(x = financial_year, y = dogs_known)) +
  geom_line() +
  theme_classic() +
  xlab("Year") +
  ylab("")
```

*The drop in known dog numbers in 2018 reflects work to remove duplicate entries from the register in 2017.

### Registrations

But the proportion of dogs registered has started to fall sharply since 2020.

```{r, echo = FALSE}
ggplot(dogs, aes(x = financial_year, y = pc_reg)) +
  geom_line() +
  theme_classic() +
  xlab("Year") +
  ylab("")
```

*Investigate blip in registrations in 2017

### Menacing Dogs

Meanwhile, the proportion of known dogs classified as menacing has more than doubled since 2014.

```{r, echo = FALSE}
ggplot(dogs, aes(x = financial_year, y = pc_men)) +
  geom_line() +
  theme_classic() +
  xlab("Year") +
  ylab("")
```

## {-}

 The rise in dog ownership from 2020 has been attributed to the increased time many people spent at home during COVID-19 lockdowns. A nation-wide lockdown was enacted in late March for 2 months, followed by regionalised lockdowns for Auckland in August–September 2020 and February–March 2021. Veterinary de-sexing services were unable to operate...WIP 

https://www.mdpi.com/2076-2615/11/3/758
https://www.rnz.co.nz/news/national/473661/glut-of-unwanted-cats-and-dogs-spca-aims-to-neuter-30-000

